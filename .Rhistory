library(palaeoSig)
?palaeoSig
?crossval
library(fields)
coord.calgary <- matrix(c(-114,51),ncol=2)
dist.calgary <- t(rdist.earth(coord.calgary,cbind(lon,lat)))
cor.env.var <- round(cor(dist.calgary,Climate),2)
print(cor.env.var)
mat.calgary <- rioja::MAT(y = pollen.prop,dist.calgary,lean=FALSE)
cv.calgary <- rioja::crossval(mat.calgary,verbose=FALSE)
perf.calgary <- rioja::performance(cv.calgary)
plot(cv.calgary)
plot(dist.calgary,Climate$mtwa)
library(analogue)
data(Pollen)
data(Climate)
data(Location)
head(Pollen)
head(Climate)
head(Location)
lon <- Location$Longitude
lat <- Location$Latitude
library(fields)
coord.calgary <- matrix(c(-114,51),ncol=2)
dist.calgary <- t(rdist.earth(coord.calgary,cbind(lon,lat)))
cor.env.var <- round(cor(dist.calgary,Climate),2)
print(cor.env.var)
mat.calgary <- rioja::MAT(y = pollen.prop,dist.calgary,lean=FALSE)
cv.calgary <- rioja::crossval(mat.calgary,verbose=FALSE)
perf.calgary <- rioja::performance(cv.calgary)
plot(cv.calgary)
plot(dist.calgary,Climate$mtwa)
colnames(Climate)[1:3] <- c('tjan','tfeb','tmar')
Pollen.corrected <- replace(Pollen,is.na(Pollen),0)
pollen.prop <- Pollen.corrected/rowSums(Pollen.corrected)
library(fields)
coord.calgary <- matrix(c(-114,51),ncol=2)
dist.calgary <- t(rdist.earth(coord.calgary,cbind(lon,lat)))
cor.env.var <- round(cor(dist.calgary,Climate),2)
print(cor.env.var)
mat.calgary <- rioja::MAT(y = pollen.prop,dist.calgary,lean=FALSE)
cv.calgary <- rioja::crossval(mat.calgary,verbose=FALSE)
perf.calgary <- rioja::performance(cv.calgary)
plot(cv.calgary)
plot(dist.calgary,Climate$mtwa)
dist.h <- rdist.earth(cbind(lon,lat),cbind(lon,lat))
cv.calgary.h.block <- rioja::crossval(mat.calgary,h.cutoff = 300,h.dist=dist.h,cv.method = 'h-block',verbose=FALSE)
cv.calgary.h.block$fitted.values
plot(dist.calgary,cv.calgary.h.block$predicted)
dim(dist.calgary)
dim(cv.calgary.h.block$predicted)
head(cv.calgary.h.block$predicted)
plot(dist.calgary,cv.calgary.h.block$predicted)
plot(dist.calgary,cv.calgary.h.block$predicted[,5])
cor(dist.calgary,cv.calgary.h.block$predicted[,5])
cor(dist.calgary,cv.calgary.h.block$predicted[,'N05'])
plot(dist.calgary,cv.calgary.h.block$predicted[,'N05'])
plot(dist.calgary,cv.calgary.h.block$predicted[,'N05'])
?IK
library(rioja)
data(IK)
IK$env$Salinity
library(formatR)
install.packages('formatR')
library(formatR)
getwd()
setwd('~/teaching_uploads/')
?readRDS
